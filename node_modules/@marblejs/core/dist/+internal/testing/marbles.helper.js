"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Marbles = void 0;
const testing_1 = require("rxjs/testing");
exports.Marbles = {
    deepEquals: (actual, expected) => expect(actual).toEqual(expected),
    createTestScheduler: () => new testing_1.TestScheduler(exports.Marbles.deepEquals),
    assertEffect: (effect, marbleflow, dependencies = {}) => {
        const [initStream, initValues, initError] = marbleflow[0];
        const [expectedStream, expectedValues, expectedError] = marbleflow[1];
        const scheduler = exports.Marbles.createTestScheduler();
        const stream$ = scheduler.createColdObservable(initStream, initValues, initError);
        scheduler
            .expectObservable(effect(stream$, dependencies.ctx))
            .toBe(expectedStream, expectedValues, expectedError);
        scheduler.flush();
    },
};
