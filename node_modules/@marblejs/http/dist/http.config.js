"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.provideConfig = exports.MARBLE_HTTP_REQUEST_METADATA_ENV_KEY = exports.MARBLE_HTTP_HEADERS_NORMALIZATION_ENV_KEY = void 0;
const utils_1 = require("@marblejs/core/dist/+internal/utils");
/**
 * Flag to indicate whether we should prevent converting (normalizing) all headers to lower case.
 * This flag was introduced to prevent breaking changes, for more details see:
 * https://github.com/marblejs/marble/issues/311
 *
 * Flag will be removed in the next major version,
 * where all headers are normalized by default.
 *
 * @since 4.0.0
 */
exports.MARBLE_HTTP_HEADERS_NORMALIZATION_ENV_KEY = 'MARBLE_HTTP_HEADERS_NORMALIZATION';
/**
 * If enabled applies request metadata to every outgoing HTTP response
 *
 * @since 2.0.0
 */
exports.MARBLE_HTTP_REQUEST_METADATA_ENV_KEY = 'MARBLE_HTTP_REQUEST_METADATA';
/**
 * Initialize and provide environment configuration
 *
 * @since 4.0.0
 */
const provideConfig = () => ({
    useHttpHeadersNormalization: (0, utils_1.getEnvConfigOrElseAsBoolean)(exports.MARBLE_HTTP_HEADERS_NORMALIZATION_ENV_KEY, true),
    useHttpRequestMetadata: (0, utils_1.getEnvConfigOrElseAsBoolean)(exports.MARBLE_HTTP_REQUEST_METADATA_ENV_KEY, false),
});
exports.provideConfig = provideConfig;
